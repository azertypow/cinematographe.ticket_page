"object"!=typeof globalThis&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);function img_proxy_url(url,max_width,max_height){if(ticketack.proxy_img_host==""){return url}var url="//"+ticketack.proxy_img_host+"?url="+encodeURI(url)+(max_width?"&w="+max_width:"")+(max_height?"&h="+max_height:"")+"&output=webp"+"&fit=outside";return url}app.filter("filterHTML",(function(){return function(text){return text?String(text).replace(/<[^>]+>/gm,"").replace(/&nbsp;/gm," "):""}}));app.filter("warningLevel",(function(){return function(percentage){if(percentage==0)return"danger";else if(percentage<=globalThis.ticketack.capacity_warn_level)return"warning";else return"success"}}));app.filter("orderObjectBy",(function(){return function(input,attribute){if(!angular.isObject(input))return input;var array=[];for(var objectKey in input){array.push(input[objectKey])}array.sort((function(a,b){a=parseInt(a[attribute]);b=parseInt(b[attribute]);return a-b}));return array}}));app.filter("bookingScreeningInTheFuture",(function(){return function(bookings){var now=Date.now();return bookings.filter((function(booking){return booking.screening&&Date.parse(booking.screening.stop_at)>now}))}}));app.filter("badDateToISO",(function(){return function(badTime){if(!badTime)return null;var goodTime=badTime.replace(/(.+) (.+)/,"$1T$2");return goodTime}}));app.filter("middleTruncate",(function(){return function(str,max_length,separator){if(str.length<=max_length)return str;separator=separator||"...";var chars_length=max_length-separator.length,front_length=Math.ceil(chars_length/2),back_length=Math.floor(chars_length/2);return str.substr(0,front_length)+separator+str.substr(str.length-back_length)}}));function getIntersect(arr1,arr2){var r=[],o={},l=arr2.length,i,v;for(i=0;i<l;i++){o[arr2[i]]=true}l=arr1.length;for(i=0;i<l;i++){v=arr1[i];if(v in o){r.push(v)}}return r}
